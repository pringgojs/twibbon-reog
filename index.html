<!DOCTYPE html>
<html>
  <head>
    <title>
      Menggabungkan 2 Gambar Seperti Twibbon Menggunakan HTML dan JavaScript
    </title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <input type="text" name="name" placeholder="Masukkan nama anda" id="name" />
    <input
      type="text"
      name="country"
      placeholder="Masukkan negara anda"
      id="country"
    />
    <input type="file" accept="image/*" id="choose-file" name="choose-file" />
    <br />
    <button type="button" onclick="twibbon()">Create twibbon</button>
    <!-- Ganti gambarkalian.jpg dengan gambar yang akan kalian pakai -->
    <div id="img-preview"></div>
    <!-- <img
      src="profile.jpg"
      id="gambarKalian"
      width="300"
      height="300"
      hidden="true"
    /> -->

    <!-- Ganti gambartwibbon.jpg dengan gambar bingkai Twibbon kalian -->
    <br /><br />
    <img src="bg.png" id="gambarTwibbon" width="300" height="300" />

    <!-- 2 Gambar akan digabungkan pada area canvas -->
    <canvas id="canvas"></canvas>

    <!-- JavaScript buat menggabungkan 2 gambar -->
    <script type="text/javascript">
      const chooseFile = document.getElementById("choose-file");
      chooseFile.addEventListener("change", function () {
        getImgData();
      });

      function getImgData() {
        const files = chooseFile.files[0];
        const imgPreview = document.getElementById("img-preview");
        if (files) {
          const fileReader = new FileReader();
          fileReader.readAsDataURL(files);
          fileReader.addEventListener("load", function () {
            imgPreview.style.display = "hidden";
            imgPreview.innerHTML =
              '<img id="gambarKalian" width="300" hidden="true" height="300" src="' +
              this.result +
              '" />';
          });
        }
      }
      function twibbon() {
        const name = document.getElementById("name");
        const country = document.getElementById("country");

        // return;

        const gambarKalian = document.getElementById("gambarKalian");
        const gambarTwibbon = document.getElementById("gambarTwibbon");
        gambarTwibbon.setAttribute("hidden", "true");
        const canvas = document.getElementById("canvas");
        const context = canvas.getContext("2d");
        const width = gambarTwibbon.width;
        const height = gambarTwibbon.height;
        canvas.width = width;
        canvas.height = height;

        context.drawImage(gambarKalian, 0, 1, width, height);
        context.font = "20pt Calibri";
        context.fillStyle = "Red";
        context.fillText(name.value, 150, 270);
        context.getImageData(0, 0, width, height);

        context.drawImage(gambarTwibbon, 0, 0, width, height);
        context.font = "14pt Calibri";
        context.fillStyle = "Red";
        context.fillText(country.value, 150, 300);
        context.getImageData(0, 0, width, height);
      }
    </script>
  </body>
</html>
